<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../css/nav.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css" rel="stylesheet">
    <script src="../js/nav.js"></script>
    <script src="../js/code.jquery.com_jquery-3.7.0.min.js"></script>
    <link rel="icon" href="https://fav.farm/🐬" />

    <title>04-Array Cardio</title>
    <script>
            document.addEventListener('DOMContentLoaded', () => {
                redropdownMenu();
                function redropdownMenu(){
                    const dropMenu = 
                    document.querySelectorAll(".dropdown--menu");
                    const dropSubMenu = 
                        document.querySelectorAll(".dropdown--submenu");
                        
                    dropMenu.forEach((menu) => {
                        const menuRect = menu.getBoundingClientRect();
                        if (menuRect.right > window.innerWidth)
                        menu.style.right = 0;
                    });
                    dropSubMenu.forEach((subMenu) => {
                        const subMenuRect = subMenu.getBoundingClientRect();
                        if (subMenuRect.right > window.innerWidth)
                        subMenu.style.left = `${-subMenuRect.width}px`;

                    });
                }
                window.addEventListener('resize', () =>{
                    redropdownMenu();
                })
            });
    </script>
    <style>
        .sbody{
            display: flex;
            flex-direction: column;
            padding:5%;
        }
    </style>
</head>

<body>
    <header class="header" id="header">
    </header>
    <script>
        let nv = $("#header");
        nv.html(nav);
    </script>
    <!-- Main js -->
    <script src="../js/main.js"></script>

    <div class="sbody">
        <p><em>Psst: have a look at the JavaScript Console</em> 👉</p>

        <h2>題目</h2>
        <div>1. Filter the list of inventors for those who were born in the 1500's</div>
        <div>2. Give us an array of the inventor first and last names</div>
        <div>3. Sort the inventors by birthdate, oldest to youngest</div>
        <div>4. How many years did all the inventors live?</div>
        <div>5. Sort the inventors by years lived</div>
        <div>6. create a list of Boulevards in Paris that contain 'de' anywhere in the name</div>
        <div>7. sort Exercise：Sort the people alphabetically by last name</div>
        <div>8. Reduce Exercise：Sum up the instances of each of these</div>
            </div>
    <script>
        const inventors = [
            { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
            { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
            { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
            { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
            { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
            { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
            { first: 'Max', last: 'Planck', year: 1858, passed: 1947 }
        ];

        const people = ['Beck, Glenn', 'Becker, Carl', 
        'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry',
        'Beethoven, Ludwig', 'Begin, Menachem',
        'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert',
        'Benenson, Peter', 'Ben-Gurion, David',
        'Benjamin, Walter', 'Benn, Tony',
        'Bennington, Chester', 'Benson, Leana',
        'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric',
        'Bergman, Ingmar', 'Berio, Luciano',
        'Berle, Milton', 'Berlin, Irving',
        'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi',
        'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin',
        'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph',
        'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 
        'Biondo, Frank', 'Birrell, Augustine', 'Black Elk', 
        'Blair, Robert', 'Blair, Tony', 'Blake, William'];
    
        //array.prototype.lilten()
        //1. filter the list of inventors for those who were born in the 1500's
        const fifteen = inventors.filter(inventors => 
        (inventors.year >= 1500 && inventors.year <= 1600))
        
        console.table(fifteen);

        //array.prototye.map()
        //2.give us an array of the inventory first and last names
        const fullName = inventors.map(inventors => `${inventors.first} ${inventors.last}`);
        console.log(fullName);

        //Array.prototype.sont()
        //3. Sort the inventors by birth date,oldest to youngest
        // const ordered = inventors.sort(function(a,b){
        //     if(a.year>b.year){
        //         return 1;
        //     }else{
        //         return -1;
        //     }
        // })
        const ordered = inventors.sort((a,b) => a.year > b.year ? 1 : -1)
        console.table(ordered);

        //Array.prototype.reduce()
        //4.How many years did all the inventors live?
        const totalYears = inventors.reduce((total, inventor) =>{
            return total + (inventor.passed - inventor.year);
        },0)
        console.log(totalYears);
        // var totalYears =0;
        // for(var i = 0; i < inventors.length; i++){
        //     totalYears += inventors[i].year
        // }
        // console.log(totalYears)

        //5.sort the inventors by years lived
        const oldest = inventors.sort(function(a,b){
            const lastGuy = a.passed - a.year;
            const nextGuy = b.passed - b.year;
            return lastGuy > nextGuy ? -1 : 1;
        })
        console.table(oldest);
        // 6. create a list of boulevards in Paris that contain 'de' anywhen in tha name
        //  https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
        // go to above web use devtool

        // ------
        // const category = document.querySelector('.mw-category');
        // const links = Array.from(category.querySelectorAll('a'));

        // const de = links
        // .map(link => link.textContent)
        // .filter(streetName => streetName.includes('de'));
        // ------
        
        //7.sont Exercise
        // Sont the prple alphavetically by last name
        // const alpha1 = people.sort((lastOne,nextOne) => {
        //     const [Last, First] = lastOne.split(', ');
        //     console.log(Last, First);
        // })
        const alpha = people.sort((lastOne,nextOne) => {
            const [aLast, aFirst] = lastOne.split(', ');
            const [bLast, bFirst] = nextOne.split(', ');

            return  aLast > bLast ? 1 : -1;
        })
        console.log(alpha);
        //8.Reduce Exercise
        // Sum up the instances of each of these

        const data = ['car', 'car', 'truck', 
        'truck', 'bike', 'walk', 'car', 'van', 
        'bike', 'walk', 'car', 'van', 'car', 
        'truck', 'pogostick'];

        const transportation = data.reduce(function(obj, item){
            if (!obj[item]) {
                obj[item] = 0;
            }
            obj[item]++;
            return obj
        },{})
        console.log(transportation);
    </script>
</body>

</html>